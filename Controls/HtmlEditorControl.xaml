<UserControl x:Class="YiboFile.Controls.HtmlEditorControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:avalonedit="clr-namespace:ICSharpCode.AvalonEdit;assembly=ICSharpCode.AvalonEdit">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- 工具栏 -->
        <Border Grid.Row="0" Background="{DynamicResource BackgroundTertiaryBrush}" Padding="10,5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 左侧：视图模式切换 -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="视图:" VerticalAlignment="Center" Margin="0,0,10,0" Foreground="#666"/>
                    <RadioButton x:Name="PreviewOnlyMode" Content="预览" GroupName="ViewMode" 
                                 Margin="0,0,15,0" VerticalAlignment="Center" IsChecked="True" Cursor="Hand"/>
                    <RadioButton x:Name="EditOnlyMode" Content="编辑" GroupName="ViewMode" 
                                 Margin="0,0,15,0" VerticalAlignment="Center" Cursor="Hand"/>
                    <RadioButton x:Name="SplitViewMode" Content="分屏" GroupName="ViewMode" 
                                 Margin="0,0,0,0" VerticalAlignment="Center" Cursor="Hand"/>
                </StackPanel>

                <!-- 右侧：操作按钮 -->
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button x:Name="SaveButton" Content="保存" Width="60" Margin="0,0,10,0"/>
                    <Button x:Name="RefreshButton" Content="刷新预览" Width="80"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- 主内容区 -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Name="EditorColumn" Width="*"/>
                <ColumnDefinition x:Name="SplitterColumn" Width="5"/>
                <ColumnDefinition x:Name="PreviewColumn" Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- 左侧：代码编辑器 -->
            <avalonedit:TextEditor x:Name="CodeEditor" Grid.Column="0"
                                   FontFamily="Consolas"
                                   FontSize="14"
                                   ShowLineNumbers="True"
                                   WordWrap="True"/>
            
            <!-- 分隔线 -->
            <GridSplitter x:Name="ViewSplitter" Grid.Column="1" 
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Background="#CCCCCC"
                          ShowsPreview="False"/>
            
            <!-- 右侧：预览 -->
            <Border x:Name="PreviewBorder" Grid.Column="2" 
                    BorderBrush="{DynamicResource BorderDefaultBrush}" BorderThickness="1,0,0,0">
                <WebBrowser x:Name="PreviewBrowser"/>
            </Border>
        </Grid>
    </Grid>
</UserControl>

