<UserControl x:Class="YiboFile.Controls.FileOperationProgressControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignWidth="400" d:DesignHeight="120"
             Background="{DynamicResource AppBackgroundBrush}">
    <Border BorderBrush="{DynamicResource BorderSubtleBrush}" 
            BorderThickness="1" 
            CornerRadius="8"
            Padding="16"
            Background="{DynamicResource SurfaceBrush}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- 操作标题 -->
            <TextBlock x:Name="TitleText" 
                       Grid.Row="0"
                       Text="正在复制文件..."
                       FontSize="14"
                       FontWeight="SemiBold"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       Margin="0,0,0,8"/>
            
            <!-- 当前文件名 -->
            <TextBlock x:Name="CurrentFileText" 
                       Grid.Row="1"
                       Text="file.txt"
                       FontSize="12"
                       Foreground="{DynamicResource TextSecondaryBrush}"
                       TextTrimming="CharacterEllipsis"
                       Margin="0,0,0,8"/>
            
            <!-- 进度条 -->
            <ProgressBar x:Name="ProgressBar"
                         Grid.Row="2"
                         Height="6"
                         Minimum="0"
                         Maximum="100"
                         Value="0"
                         Foreground="{DynamicResource AccentDefaultBrush}"
                         Background="{DynamicResource ControlDefaultBackgroundBrush}"
                         Margin="0,0,0,8"/>
            
            <!-- 底部：进度文本 + 取消按钮 -->
            <Grid Grid.Row="3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock x:Name="ProgressText" 
                           Grid.Column="0"
                           Text="0 / 0 项"
                           FontSize="11"
                           Foreground="{DynamicResource TextTertiaryBrush}"
                           VerticalAlignment="Center"/>
                
                <Button x:Name="CancelButton"
                        Grid.Column="1"
                        Content="取消"
                        Padding="12,4"
                        FontSize="12"
                        Click="CancelButton_Click"
                        Background="{DynamicResource ControlDefaultBackgroundBrush}"
                        Foreground="{DynamicResource TextPrimaryBrush}"
                        BorderThickness="0"
                        Cursor="Hand"/>
            </Grid>
        </Grid>
    </Border>
</UserControl>

