<UserControl x:Class="YiboFile.Controls.TitleActionBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="Transparent">
    <!-- 统一资源：所有按钮默认为 ModernToolbarButtonStyle -->
    <UserControl.Resources>
        <Style TargetType="Button" BasedOn="{StaticResource ModernToolbarButtonStyle}"/>
    </UserControl.Resources>

    <Grid>
        <StackPanel x:Name="PathPanel" Orientation="Horizontal" VerticalAlignment="Center">
            <Button Command="{Binding NewFolderCommand}" ToolTip="新建文件夹" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_Folder}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding NewFileCommand}" ToolTip="新建文件" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_File}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Separator Margin="12,4" Height="20" VerticalAlignment="Center"/>
            <Button Command="{Binding CopyCommand}" ToolTip="复制" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_Copy}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding PasteCommand}" ToolTip="粘贴" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_Format}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding DeleteCommand}" ToolTip="删除" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_Delete_Outline}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
        </StackPanel>

        <StackPanel x:Name="LibraryPanel" Orientation="Horizontal" VerticalAlignment="Center" Visibility="Collapsed">
            <Button Command="{Binding NewFolderCommand}" ToolTip="新建文件夹" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_Folder}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding NewFileCommand}" ToolTip="新建文件" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_File}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Separator Margin="12,4" Height="20" VerticalAlignment="Center"/>
            <Button Command="{Binding CopyCommand}" ToolTip="复制" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_Copy}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding PasteCommand}" ToolTip="粘贴" Margin="0,0,2,0">
                <TextBlock Text="{DynamicResource Icon_Format}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding DeleteCommand}" ToolTip="删除" Margin="0,0,2,0">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                        <Setter Property="Height" Value="32"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="{DynamicResource Icon_Delete_Outline}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding RefreshCommand}" ToolTip="刷新" Margin="0,0,2,0">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                        <Setter Property="Height" Value="32"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="{DynamicResource Icon_Refresh}" FontSize="14" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
        </StackPanel>

        <StackPanel x:Name="TagPanel" Orientation="Horizontal" VerticalAlignment="Center" Visibility="Collapsed">
            <Button Command="{Binding NewTagCommand}" ToolTip="新建标签" Margin="0,0,2,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="&#xE8EC;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding ManageTagsCommand}" ToolTip="管理标签" Margin="0,0,2,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="&#xE713;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
            </Button>
            <Separator Margin="12,4" Height="20" VerticalAlignment="Center"/>
            <Button Command="{Binding BatchAddTagsCommand}" ToolTip="批量添加" Margin="0,0,2,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="&#xE7B8;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding TagStatisticsCommand}" ToolTip="标签统计" Margin="0,0,2,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="&#xE9D2;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
            </Button>
            <Separator Margin="12,4" Height="20" VerticalAlignment="Center"/>
            <Button Command="{Binding CopyCommand}" ToolTip="复制" Margin="0,0,2,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="{DynamicResource Icon_Copy}" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding PasteCommand}" ToolTip="粘贴" Margin="0,0,2,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="{DynamicResource Icon_Format}" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding DeleteCommand}" ToolTip="删除" Margin="0,0,2,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="{DynamicResource Icon_Delete_Outline}" FontFamily="{DynamicResource IconFontFamily}" VerticalAlignment="Center"/>
            </Button>
        </StackPanel>

        <StackPanel x:Name="SearchPanel" Orientation="Horizontal" VerticalAlignment="Center" Visibility="Collapsed">
            <Button Command="{Binding CopyCommand}" ToolTip="复制" Margin="0,0,4,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="&#xE8C8;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding PasteCommand}" ToolTip="粘贴" Margin="0,0,4,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="&#xE77F;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding DeleteCommand}" ToolTip="删除" Margin="0,0,4,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="&#xE74D;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
            </Button>
            <Button Command="{Binding RefreshCommand}" ToolTip="刷新" Margin="0,0,4,0" Height="36">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
                        <Setter Property="Padding" Value="8,0"/>
                    </Style>
                </Button.Style>
                <TextBlock Text="&#xE72C;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
            </Button>
        </StackPanel>
    </Grid>
</UserControl>


















