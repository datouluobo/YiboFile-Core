# OoiMRR v1.8.x 功能开发规划 (修正版)

**目标**: 将程序开发成其中一个功能齐全的通用型资源管理器。
**现状**: 基础文件操作、双栏模式、基础搜索、缩略图/列表视图已完成。

---

## 📅 阶段规划

### 阶段一：视图与可视化深度增强 (v1.8.0 - v1.8.1)
扩展现有的视图模式，提供不仅限于列表和缩略图的丰富展示方式。

- [x] **高级视图模式**
  - [x] **平铺 (Tiles)**: 大图标 + 详细文本（模仿 Explorer 平铺）。
  - [x] **内容 (Content)**: 适合音乐/文档的行内详细信息视图。
  - [x] **小图标 (Small Icons)**: 紧凑的网格布局。
  - [x] **紧凑列表 (Compact)**: 类似于列表模式但更紧凑。

- [x] **驱动器与空间可视化**
  - [x] 在"此电脑"视图中增加驱动器使用率进度条。
  - [x] 导航栏驱动器图标背景色动态反映空间占用（如 >90% 变红）。

### 阶段二：生产力工具集 (v1.8.2 - v1.8.3)
增加普通资源管理器不具备的高级工具。

- [x] **剪切板历史面板**
  - [x] 记录最近 10-20 条剪切/复制的文件记录。
  - [x] 提供专用面板查看历史，支持点击再次粘贴。
  - [x] 纯文本剪切板支持（可选）。

- [x] **高级过滤栏**
  - [x] 在文件列表顶部实现显式的过滤工具栏（非搜索框）。
  - [x] 提供类型、大小（<1MB, >1GB）、时间（今天, 本周）的快速筛选按钮。
  -[x] 配合全文搜索系统，实现更复杂的筛选条件和UI。
### 阶段三：全文检索与多窗口 (v1.8.4 - v1.8.x)
突破文件名的限制，实现内容级管理。

- [x] **全文搜索系统 (Full Text Search)**
  - [x] 引入索引引擎 (基于 SQLite FTS)。
  - [x] 新增NPOI + PdfPig库，支持文档内容 (Word, PDF, TXT/MD) 索引。

- [x] **多窗口**
  - [x] **新窗口运行**: 支持 Ctrl+N 打开全新的独立窗口进程/实例。
  - [x] **窗口间交互**: 支持不同窗口间的文件拖拽。
  - [x] **设置**: 支持设置是否启用多窗口。
---

## 📋 详细待办列表

### 1. 视图系统改造
- [x] 扩展 `FileListControl` 的 `ViewMode` 支持更多 DataTemplate（Tile/Content/SmallIcon）。
- [x] 优化 `VirtualizingWrapPanel` 以支持不同尺寸的 Item。
- [x] **驱动器与空间可视化** (已完成: `AppStyles.xaml` 中 `DriveListBoxItemStyle` 已实现进度条)。

### 2. 搜索系统升级
- [x] 创建 `TextSearchService`，独立于 `EverythingSearchExecutor`。
- [x] 实现后台索引任务队列，低优先级扫描文件内容。

### 3. 下一步立即执行
- [x] 检查并实现驱动器容量可视化（相对简单，可作为 v1.8.0 起点）。
- [x] 设计高级视图模式的 DataTemplates。
