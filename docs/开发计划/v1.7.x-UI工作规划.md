# OoiMRR v1.7.x UI工作规划

**版本范围**: v1.7.5 - v1.7.x  
**最后更新**: 2026-01-09  
**状态**: 进行中

---

## 📋 工作概览

v1.7.x 版本系列专注于UI/UX的完善和优化，基于v1.7.5已完成的外观设置面板功能，继续提升整体界面体验。

---

## 🎨 待办事项清单

### 1. 外观设置面板完善 ⭐ **优先级：高**

**当前状态**: v1.7.5已实现基础功能  
**待完成工作**:

- [x] **系统主题自动跟随** (v1.7.6)
  - 实现`SystemEvents.UserPreferenceChanged`监听
  - Windows主题改变时自动切换应用主题
  - 添加"跟随系统"模式的即时响应
  
- [x] **自定义颜色功能** (v1.7.7)
  - 集成ColorPicker控件
  - 支持自定义主色调
  - 颜色配置的存储和应用逻辑
  - 提供"重置为默认"选项

- [x] **外观面板UI美化** (v1.7.6)
  - 优化颜色预览区域布局
  - 增加视觉分隔和分组效果
  - 改进控件间距和对齐
  - 添加更多过渡动画

- [x] **启动时应用透明度** (v1.7.6)
  - 在`App.xaml.cs`的`OnStartup`中读取配置
  - 在MainWindow初始化时应用透明度设置

---

### 2. 主题系统扩展 🎨 **优先级：高**

**相关文件**: `Services/Theming/ThemeManager.cs`

- [x] **自定义主题目录扫描** (v1.7.8)
  - 实现从用户目录加载自定义主题
  - 支持第三方主题文件导入
  - 主题市场/分享机制（可选）

- [ ] **主题编辑器** (v1.7.9)
  - 可视化主题编辑工具
  - 实时预览
  - 导出为主题文件

- [x] **更多内置主题** (v1.7.8)
  - 增加更多预置主题（护眼模式、高对比度等）
  - 节日/季节主题

---

### 3. TagTrain UI增强 🤖 **优先级：中**

**相关文件**: `Services/Features/TagTrain/TagTrainEventHandler.cs`

- [ ] **标签输入自动补完** (v1.7.10)
  - 实现标签输入自动补完功能（当前TODO）
  - 支持模糊搜索
  - 历史标签推荐

- [ ] **标签输入键盘导航** (v1.7.10)
  - 实现标签输入框键盘导航（当前TODO）
  - 上下键选择建议
  - Tab键快速填充

- [ ] **自动补完列表交互** (v1.7.10)
  - 双击选择功能（当前TODO）
  - 键盘导航功能（当前TODO）
  - 预览按键处理（当前TODO）

- [ ] **焦点管理优化** (v1.7.10)
  - 标签输入框获得/失去焦点处理（当前TODO）
  - 焦点切换动画

- [ ] **TagTrain设置窗口** (v1.7.11)
  - 实现设置功能窗口（当前TODO）
  - TagTrain专属配置选项
  - 模型管理界面

---

### 4. 文件列表UI优化 📁 **优先级：中**

- [x] **列头视觉改进** (v1.7.6)
  - 更清晰的排序指示器
  - 列头悬停效果优化
  - 可拖动的列分隔线样式

- [x] **文件项视觉增强** (v1.7.7)
  - 改进选中状态的视觉反馈
  - 更好的悬停效果
  - 多选时的视觉一致性
  - 原生分组可视化支持 (Native Grouping)

- [x] **图标系统升级** (v1.7.8)
  - 使用更现代的文件类型图标
  - 支持自定义图标
  - 高DPI适配

---

### 5. 对话框和弹窗统一 💬 **优先级：低**

- [ ] **统一对话框样式** (v1.7.9)
  - 确保所有对话框使用一致的设计语言
  - 统一圆角、阴影、动画效果
  - 响应式布局

- [x] **Toast通知系统** (v1.7.7)
  - 替代MessageBox的轻量级通知
  - 操作成功/失败的即时反馈
  - 可配置的显示时长和位置

---

### 6. 设置面板扩展 ⚙️ **优先级：低**

- [ ] **快捷键自定义** (v1.7.12)
  - 可视化快捷键配置界面
  - 冲突检测
  - 导入/导出快捷键配置

- [ ] **高级外观选项** (v1.7.8)
  - 窗口圆角半径调整
  - 列表项高度自定义
  - 字体族选择

---

### 7. 窗口和布局改进 🪟 **优先级：低**

- [ ] **多窗口支持** (v1.8.0)
  - 支持打开多个独立窗口
  - 窗口间拖拽文件

- [ ] **布局预设** (v1.7.11)
  - 保存和恢复布局配置
  - 快速切换不同布局

- [ ] **分屏模式** (v1.7.12)
  - 垂直/水平分屏浏览
  - 双栏文件对比

---

### 8. 响应式和适配 📱 **优先级：低**

- [ ] **高DPI适配完善** (v1.7.9)
  - 确保所有UI元素在高DPI屏幕正确显示
  - 矢量图标使用

- [ ] **不同分辨率优化** (v1.7.9)
  - 小屏幕下的布局调整
  - 超宽屏幕利用

---

## 📊 版本规划

### v1.7.6 (已发布)
- ✅ 外观设置面板UI美化
- ✅ 系统主题自动跟随
- ✅ 启动时应用透明度
- ✅ 列头视觉改进

### v1.7.7 (已发布)
- ✅ 自定义颜色功能
- ✅ 文件项视觉增强
- ✅ Toast通知系统

### v1.7.8 (进行中)
- ✅ 自定义主题目录扫描
- ✅ 更多内置主题
- ✅ 图标系统升级 (Emoji & Fixes)
- [ ] 高级外观选项

### v1.7.9 - v1.7.12
- 其他UI优化和完善功能

---

## 🎯 目标

1. **一致性**: 所有UI组件遵循统一的设计语言
2. **现代化**: 采用现代UI设计趋势（圆角、阴影、动画）
3. **可定制**: 用户可以根据个人喜好调整界面
4. **性能**: UI优化不影响应用性能
5. **可访问性**: 支持高对比度、屏幕阅读器等辅助功能

---

## 📝 备注

- 每个版本尽量保持小而专注，快速迭代
- UI改动需要充分测试，确保不影响现有功能
- 保持向后兼容，配置的改动需要提供迁移方案
- 优先级可以根据用户反馈调整

---

## 🔗 相关文档

- [外观设置面板 Walkthrough](../../.gemini/antigravity/brain/bd1230bd-833f-4ee6-86f2-49fb6ea8e91c/walkthrough.md)
- [README](../../README.md)
- [CHANGELOG](./CHANGELOG.md)
